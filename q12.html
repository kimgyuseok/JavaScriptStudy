<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
   <style>
      #tbl {
         width: 600px;
      }
      #tbl th {
         font-size: 1em;
         padding: 7px;
      }
      #tbl td {
         text-align: center;
      }
      #tbl .txt {
         width: 450px;
         border: 1px solid #999;
         background-color: white;
         padding: 3px;
      }
      #tbl .txt:read-only {
         cursor: not-allowed;
         background-color: #eee;
      }
   </style>
</head>
<body>
  
   <div class="main m600">
      <div class="mainHeader">
         <h1>텍스트 박스 입력 + 잠금<i class="far fa-lightbulb" style="font-size: .74em;margin-left:10px;cursor: pointer;" onclick="toggleHint();" title="약간의 도움말"></i></h1>
         <div>체크박스를 사용해 텍스트 박스를 제어하시오.</div>
         <ul>
            <li>각각의 텍스트 박스의 입력/잠금 상태를 제어하시오.</li>
            <li>체크박스 : 텍스트 박스를 읽기 전용으로 만든다.(readonly)</li>
            <li>입력 후 엔터를 치면 자동으로 잠금 상태가 된다.</li>
            <li>텍스트 박스를 더블클릭하면 입력 상태가 된다.</li>
         </ul>
         <div class="code"><i class="fas fa-keyboard"></i> checkbox.onchange, text.onkeydown, text.ondblclick</div>
      </div>
   
      <h2>입력하기</h2>
   
      <table id="tbl" class="table">
         <tbody><tr>
            <th>번호</th>
            <th>입력</th>
            <th>잠금</th>
         </tr>
         <tr>
            <td>1</td>
            <td><input type="text" name="txt" class="txt" data-no="0"></td>
            <td><input type="checkbox" name="cb" class="cb" data-no="0"></td>
         </tr>
         <tr>
            <td>2</td>
            <td><input type="text" name="txt" class="txt" data-no="1"></td>
            <td><input type="checkbox" name="cb" class="cb" data-no="1"></td>
         </tr>
         <tr>
            <td>3</td>
            <td><input type="text" name="txt" class="txt" data-no="2"></td>
            <td><input type="checkbox" name="cb" class="cb" data-no="2"></td>
         </tr>
         <tr>
            <td>4</td>
            <td><input type="text" name="txt" class="txt" data-no="3"></td>
            <td><input type="checkbox" name="cb" class="cb" data-no="3"></td>
         </tr>
         <tr>
            <td>5</td>
            <td><input type="text" name="txt" class="txt" data-no="4"></td>
            <td><input type="checkbox" name="cb" class="cb" data-no="4"></td>
         </tr>
         <tr>
            <td>6</td>
            <td><input type="text" name="txt" class="txt" data-no="5"></td>
            <td><input type="checkbox" name="cb" class="cb" data-no="5"></td>
         </tr>
         <tr>
            <td>7</td>
            <td><input type="text" name="txt" class="txt" data-no="6"></td>
            <td><input type="checkbox" name="cb" class="cb" data-no="6"></td>
         </tr>
         <tr>
            <td>8</td>
            <td><input type="text" name="txt" class="txt" data-no="7"></td>
            <td><input type="checkbox" name="cb" class="cb" data-no="7"></td>
         </tr>
         <tr>
            <td>9</td>
            <td><input type="text" name="txt" class="txt" data-no="8"></td>
            <td><input type="checkbox" name="cb" class="cb" data-no="8"></td>
         </tr>
         <tr>
            <td>10</td>
            <td><input type="text" name="txt" class="txt" data-no="9"></td>
            <td><input type="checkbox" name="cb" class="cb" data-no="9"></td>
         </tr>
      </tbody></table>
      
   
   </div>
      
   <script>
	
      var txt = document.all.txt;
      var cb = document.all.cb;
   
      for (var i=0; i<cb.length; i++) {
         cb[i].onchange = function() {
            if (event.srcElement.checked) {
               txt[event.srcElement.dataset["no"]].readOnly = true;
            } else {
               txt[event.srcElement.dataset["no"]].readOnly = false;
            }
         };
   
         txt[i].onkeydown = function() {
            if (event.keyCode == 13) {
               cb[event.srcElement.dataset["no"]].click();
            }
         };
   
         txt[i].ondblclick = function() {
            cb[event.srcElement.dataset["no"]].click();
         };
      }
   
   </script>
</body>
</html>